<!DOCTYPE html>
<html>

<head>
    <title>node.js - example</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="description" content="Basic prototype of a file uploading application.">
    <meta name="copyright" content="3ds">
    <meta name="author" content="f2z">
    <link rel="stylesheet" href="./css/basic_layout_styles.css" type="text/css">
</head>

<body>
    <div id="wrapper">

        <div id="header">
            <h1>Basic prototype of a file uploading application</h1>
        </div>

        <div id="content">
            <div class="fileSection">
                <p>Please select a text file</p>
                <input type="file" id="textFileBrowse" name="myTextfileField" />
                <input id="uploadTextFileBtn" type="submit" value="Upload Text File" />
            </div>
            <div class="fileSection">
                <p>Please select a zip file</p>
                <input type="file" id="zipFileBrowse" name="myZipfileField" />
                <input id="uploadZipFileBtn" type="submit" value="Upload Zip File" />
            </div>
            <div id="results"></div>
        </div>

        <div id="footer">
            version 1.0.0
        </div>

    </div>



    </div>
    <script src="./js/fileUpload_client.js"></script>
    <script>
        (function main() {
            var checkLoadTimer = setInterval(function () {
                if (FileHandlerModule) {
                    clearInterval(checkLoadTimer);
                    document.getElementById('textFileBrowse').addEventListener('change', FileHandlerModule.handleFileSelect);
                    document.getElementById('uploadTextFileBtn').addEventListener('click', function () {
                        FileHandlerModule.sendFile('text');
                    });
                    document.getElementById('zipFileBrowse').addEventListener('change', FileHandlerModule.handleFileSelect);
                    document.getElementById('uploadZipFileBtn').addEventListener('click', function () {
                        FileHandlerModule.sendFile('zip');
                    });
                }
            }, 100);
        })();
    </script>

</body>

</html>